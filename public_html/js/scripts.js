const weatherUrl = 'https://api.open-meteo.com/v1/forecast';
const weatherCodes = {
    0: {
        name : 'Clear sky',
        icon : '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="128" height="100" viewBox="-64 -50 128 100"><g stroke-width="3"><g stroke="#f6bc68"><circle cx="0" cy="0" r="18" fill="none" /><path d="M 24.0,0.0 L 38.0,0.0 M 16.97056274847714,16.97056274847714 L 26.87005768508881,26.8700576850888 M 0.0,24.0 L 0.0,38.0 M -16.97056274847714,16.97056274847714 L -26.8700576850888,26.87005768508881 M -24.0,0.0 L -38.0,0.0 M -16.97056274847714,-16.97056274847714 L -26.87005768508881,-26.8700576850888 M -0.0,-24.0 L -1e-14,-38.0 M 16.97056274847714,-16.97056274847714 L 26.8700576850888,-26.87005768508881 " /></g></g></svg>'
    },
    1: {
        name : 'Mainly clear',
        icon : '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="128" height="100" viewBox="-64 -50 128 100"><g stroke-width="3"><g stroke="#f6bc68"><circle cx="0" cy="0" r="18" fill="none" /><path d="M 24.0,0.0 L 38.0,0.0 M 16.97056274847714,16.97056274847714 L 26.87005768508881,26.8700576850888 M 0.0,24.0 L 0.0,38.0 M -16.97056274847714,16.97056274847714 L -26.8700576850888,26.87005768508881 M -24.0,0.0 L -38.0,0.0 M -16.97056274847714,-16.97056274847714 L -26.87005768508881,-26.8700576850888 M -0.0,-24.0 L -1e-14,-38.0 M 16.97056274847714,-16.97056274847714 L 26.8700576850888,-26.87005768508881 " /></g></g></svg>'
    },
    2: {
        name : 'partly cloudy',
        icon : '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="128" height="100" viewBox="-64 -50 128 100"><g stroke-width="3"><g stroke="#f6bc68"><path fill="none" d="M -18.00252351,-17.73419552 A 14,14 0 1 0 -39.25615559,-6.02718888 M -45.4350288425444,-4.5649711574556004 L -53.21320343559642,3.21320343559643 M -51.0,-18.0 L -62.0,-18.0 M -45.43502884254441,-31.435028842544398 L -53.21320343559643,-39.21320343559642 M -32.0,-37.0 L -32.00000000000001,-48.0 M -18.564971157455602,-31.435028842544412 L -10.78679656440358,-39.21320343559643 " /></g><path stroke="#828487" fill="none" d="M -25,28 a 20,20 0 1 1 4.88026841,-39.3954371 a 24,24 0 0 1 43.20059379,-9.49083912 a 16.25,16.25 0 0 1 16.9191378,9.88627622 a 20,20 0 0 1 -6.244998,39z" /></g></svg>'
    },
    3: {
        name : 'overcast',
        icon : '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="128" height="100" viewBox="-64 -50 128 100"><g stroke-width="3"><path stroke="#828487" stroke-width="1.8" fill="none" d="M 5,-30 a 14.4,14.4 0 0 1 25.8,-5.4 h 2 a 9.75,9.75 0 0 1 9,6 a 12,12 0 0 1 0.3,22.68" /><path stroke="#828487" fill="none" d="M -31,28 a 20,20 0 1 1 4.88026841,-39.3954371 a 24,24 0 0 1 43.20059379,-9.49083912 a 16.25,16.25 0 0 1 16.9191378,9.88627622 a 20,20 0 0 1 -6.244998,39z" /></g></svg>'
    },
    45: {
        name : 'Fog',
        icon : '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="128" height="100" viewBox="-64 -50 128 100"><g stroke-width="3"><path stroke="rgba(111,155,164,90)" stroke-linecap="round" d="M -39,-15 h 78 M -39,-5 h 78 M -39,5 h 78 M -39,15 h 78 " /></g></svg>'
    },
    48: {
        name : 'depositing rime fog',
        icon : '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="128" height="100" viewBox="-64 -50 128 100"><g stroke-width="3"><path stroke="rgba(111,155,164,90)" stroke-linecap="round" d="M -39,-15 h 78 M -39,-5 h 78 M -39,5 h 78 M -39,15 h 78 " /></g></svg>'
    },
    51: {
        name : 'Drizzle: Light',
        icon : '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="128" height="100" viewBox="-64 -50 128 100"><g stroke-width="3"><path stroke="#828487" fill="none" d="M -31,22 m 4,0 h -4 a 20,20 0 1 1 4.88026841,-39.3954371 a 24,24 0 0 1 43.20059379,-9.49083912 a 16.25,16.25 0 0 1 16.9191378,9.88627622 a 20,20 0 0 1 -6.244998,39h -4" /><path stroke="#66a1ba" fille="none" stroke-dasharray="4 9" stroke-width="2" d="M-4.5,40 l-22.0,-30 m7.5,0 l22.0,30 m7.5,0 l-22.0,-30 m7.5,0 l22.0,30 m7.5,0 l-22.0,-30 " /></g></svg>'
    },
    53: {
        name : 'Drizzle: moderate',
        icon : '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="128" height="100" viewBox="-64 -50 128 100"><g stroke-width="3"><path stroke="#828487" fill="none" d="M -31,22 m 4,0 h -4 a 20,20 0 1 1 4.88026841,-39.3954371 a 24,24 0 0 1 43.20059379,-9.49083912 a 16.25,16.25 0 0 1 16.9191378,9.88627622 a 20,20 0 0 1 -6.244998,39h -4" /><path stroke="#66a1ba" fille="none" stroke-dasharray="4 9" stroke-width="2" d="M-4.5,40 l-22.0,-30 m7.5,0 l22.0,30 m7.5,0 l-22.0,-30 m7.5,0 l22.0,30 m7.5,0 l-22.0,-30 " /></g></svg>'
    },
    55: {
        name : 'Drizzle: dense intensity',
        icon : '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="128" height="100" viewBox="-64 -50 128 100"><g stroke-width="3"><path stroke="#828487" fill="none" d="M -31,22 m 4,0 h -4 a 20,20 0 1 1 4.88026841,-39.3954371 a 24,24 0 0 1 43.20059379,-9.49083912 a 16.25,16.25 0 0 1 16.9191378,9.88627622 a 20,20 0 0 1 -6.244998,39h -4" /><path stroke="#66a1ba" fille="none" stroke-dasharray="4 9" stroke-width="2" d="M-4.5,40 l-22.0,-30 m7.5,0 l22.0,30 m7.5,0 l-22.0,-30 m7.5,0 l22.0,30 m7.5,0 l-22.0,-30 " /></g></svg>'
    },
    56: {
        name : 'Freezing Drizzle: Light',
        icon : '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="128" height="100" viewBox="-64 -50 128 100"><g stroke-width="3"><path stroke="#828487" fill="none" d="M -31,22 m 4,0 h -4 a 20,20 0 1 1 4.88026841,-39.3954371 a 24,24 0 0 1 43.20059379,-9.49083912 a 16.25,16.25 0 0 1 16.9191378,9.88627622 a 20,20 0 0 1 -6.244998,39h -4" /><path stroke="#66a1ba" fille="none" stroke-dasharray="4 9" stroke-width="2" d="M-4.5,40 l-22.0,-30 m7.5,0 l22.0,30 m7.5,0 l-22.0,-30 m7.5,0 l22.0,30 m7.5,0 l-22.0,-30 " /></g></svg>'
    },
    57: {
        name : 'Freezing Drizzle: dense intensity',
        icon : '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="128" height="100" viewBox="-64 -50 128 100"><g stroke-width="3"><path stroke="#828487" fill="none" d="M -26.349999999999998,4 m 3.4,0 h -3.4 a17.0,17.0 0 1 1 4.1482281485,-33.486121535 a20.4,20.4 0 0 1 36.7205047215,-8.067213252 a13.8125,13.8125 0 0 1 14.381267130000001,8.403334786999999 a17.0,17.0 0 0 1 -5.3082483,33.15 h -3.4" /><path stroke="#66a1ba" fille="none" stroke-dasharray="3.5 7.5" stroke-width="2" d="M-6.800000000000001,18.5 l-18.7,-25.5 m7.5,0 l18.7,25.5 m7.5,0 l-18.7,-25.5 m7.5,0 l18.7,25.5 m7.5,0 l-18.7,-25.5 " /><path stroke="none" fill="#000000" d="M-9.42235138,48 l8.54455967,-4.047423 a6.04100450,6.04100450 0 0 0 2.54603347,-8.64621208 l-3.23725145,-5.21347156 a2.74580363,2.74580363 0 0 1 0.78256116,-3.71485342 l4.93895246,-3.37803994 h-1.38888889 l-5.10795449,2.93585208 a4.68254091,4.68254091 0 0 0 -2.09563466,5.5796135 l2.27226862,6.62156404 a3.29583971,3.29583971 0 0 1 -1.84474537,4.10998876 l-13.74323385,5.75298161 z m33.33333333,0 l1.22771241,-1.22771241 a6.20359314,6.20359314 0 0 0 -1.28480621,-9.75907203 l-13.55967183,-7.82868018 a3.22628070,3.22628070 0 0 1 -1.41857181,-3.89749403 l0.83241498,-2.28704135 h-1.38888889 l-0.68119443,1.08342259 a4.68254091,4.68254091 0 0 0 1.30173924,6.30605466 l12.49300857,8.59055233 a2.68888799,2.68888799 0 0 1 0.13365758,4.33313596 l-5.98873292,4.68683446 z" /><path stroke="#66a1ba" stroke-width="1.2" stroke-linecap="round" fill="none" d="M -17,26 l0.0,16.0 m-6.92820323,-12.0 l13.85640646,8.0 m-13.85640646,-0.0 l13.85640646,-8.0 m-6.92820323,-4.0 m2.30940108,1.33333333 l-2.30940108,1.33333333 l-2.30940108,-1.33333333 m2.30940108,-1.33333333 m-6.92820323,4.0 m2.30940108,-1.33333333 l-0.0,2.66666667 l-2.30940108,1.33333333 m0.0,-2.66666667 m-0.0,8.0 m0.0,-2.66666667 l2.30940108,1.33333333 l0.0,2.66666667 m-2.30940108,-1.33333333 m6.92820323,4.0 m-2.30940108,-1.33333333 l2.30940108,-1.33333333 l2.30940108,1.33333333 m-2.30940108,1.33333333 m6.92820323,-4.0 m-2.30940108,1.33333333 l0.0,-2.66666667 l2.30940108,-1.33333333 m-0.0,2.66666667 m0.0,-8.0 m-0.0,2.66666667 l-2.30940108,-1.33333333 l-0.0,-2.66666667 m2.30940108,1.33333333 " /></g></svg>'
    },
    61: {
        name : 'Rain: Slight',
        icon : '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="128" height="100" viewBox="-64 -50 128 100"><g stroke-width="3"><path stroke="#828487" fill="none" d="M -31,22 m 4,0 h -4 a 20,20 0 1 1 4.88026841,-39.3954371 a 24,24 0 0 1 43.20059379,-9.49083912 a 16.25,16.25 0 0 1 16.9191378,9.88627622 a 20,20 0 0 1 -6.244998,39h -4" /><path stroke="none" fill="#66a1ba" d="M -28,10 h5 l22.0,30 h-5 l-22.0,-30 z m 15,0 h5 l22.0,30 h-5 l-22.0,-30 z m 15,0 h5 l22.0,30 h-5 l-22.0,-30 z " /></g></svg>'
    },
    63: {
        name : 'Rain: moderate',
        icon : '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="128" height="100" viewBox="-64 -50 128 100"><g stroke-width="3"><path stroke="#828487" fill="none" d="M -31,22 m 4,0 h -4 a 20,20 0 1 1 4.88026841,-39.3954371 a 24,24 0 0 1 43.20059379,-9.49083912 a 16.25,16.25 0 0 1 16.9191378,9.88627622 a 20,20 0 0 1 -6.244998,39h -4" /><path stroke="none" fill="#66a1ba" d="M -28,10 h5 l22.0,30 h-5 l-22.0,-30 z m 15,0 h5 l22.0,30 h-5 l-22.0,-30 z m 15,0 h5 l22.0,30 h-5 l-22.0,-30 z " /></g></svg>'
    },
    65: {
        name : 'Rain:  heavy intensity',
        icon : '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="128" height="100" viewBox="-64 -50 128 100"><g stroke-width="3"><path stroke="#828487" fill="none" d="M -31,22 m 4,0 h -4 a 20,20 0 1 1 4.88026841,-39.3954371 a 24,24 0 0 1 43.20059379,-9.49083912 a 16.25,16.25 0 0 1 16.9191378,9.88627622 a 20,20 0 0 1 -6.244998,39h -4" /><path stroke="none" fill="#66a1ba" d="M -28,10 h5 l22.0,30 h-5 l-22.0,-30 z m 15,0 h5 l22.0,30 h-5 l-22.0,-30 z m 15,0 h5 l22.0,30 h-5 l-22.0,-30 z " /></g></svg>'
    },
    66: {
        name : 'Freezing Rain: Light',
        icon : '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="128" height="100" viewBox="-64 -50 128 100"><g stroke-width="3"><path stroke="#828487" fill="none" d="M -26.349999999999998,4 m 3.4,0 h -3.4 a17.0,17.0 0 1 1 4.1482281485,-33.486121535 a20.4,20.4 0 0 1 36.7205047215,-8.067213252 a13.8125,13.8125 0 0 1 14.381267130000001,8.403334786999999 a17.0,17.0 0 0 1 -5.3082483,33.15 h -3.4" /><path stroke="none" fill="#66a1ba" d="M -27,-7 h5 l18.7,25.5 h-5 l-18.7,-25.5 z m 15,0 h5 l18.7,25.5 h-5 l-18.7,-25.5 z m 15,0 h5 l18.7,25.5 h-5 l-18.7,-25.5 z " /><path stroke="none" fill="#000000" d="M-9.42235138,48 l8.54455967,-4.047423 a6.04100450,6.04100450 0 0 0 2.54603347,-8.64621208 l-3.23725145,-5.21347156 a2.74580363,2.74580363 0 0 1 0.78256116,-3.71485342 l4.93895246,-3.37803994 h-1.38888889 l-5.10795449,2.93585208 a4.68254091,4.68254091 0 0 0 -2.09563466,5.5796135 l2.27226862,6.62156404 a3.29583971,3.29583971 0 0 1 -1.84474537,4.10998876 l-13.74323385,5.75298161 z m33.33333333,0 l1.22771241,-1.22771241 a6.20359314,6.20359314 0 0 0 -1.28480621,-9.75907203 l-13.55967183,-7.82868018 a3.22628070,3.22628070 0 0 1 -1.41857181,-3.89749403 l0.83241498,-2.28704135 h-1.38888889 l-0.68119443,1.08342259 a4.68254091,4.68254091 0 0 0 1.30173924,6.30605466 l12.49300857,8.59055233 a2.68888799,2.68888799 0 0 1 0.13365758,4.33313596 l-5.98873292,4.68683446 z" /><path stroke="#66a1ba" stroke-width="1.2" stroke-linecap="round" fill="none" d="M -17,26 l0.0,16.0 m-6.92820323,-12.0 l13.85640646,8.0 m-13.85640646,-0.0 l13.85640646,-8.0 m-6.92820323,-4.0 m2.30940108,1.33333333 l-2.30940108,1.33333333 l-2.30940108,-1.33333333 m2.30940108,-1.33333333 m-6.92820323,4.0 m2.30940108,-1.33333333 l-0.0,2.66666667 l-2.30940108,1.33333333 m0.0,-2.66666667 m-0.0,8.0 m0.0,-2.66666667 l2.30940108,1.33333333 l0.0,2.66666667 m-2.30940108,-1.33333333 m6.92820323,4.0 m-2.30940108,-1.33333333 l2.30940108,-1.33333333 l2.30940108,1.33333333 m-2.30940108,1.33333333 m6.92820323,-4.0 m-2.30940108,1.33333333 l0.0,-2.66666667 l2.30940108,-1.33333333 m-0.0,2.66666667 m0.0,-8.0 m-0.0,2.66666667 l-2.30940108,-1.33333333 l-0.0,-2.66666667 m2.30940108,1.33333333 " /></g></svg>'
    },
    67: {
        name : 'Freezing Rain: heavy intensity',
        icon : '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="128" height="100" viewBox="-64 -50 128 100"><g stroke-width="3"><path stroke="#828487" fill="none" d="M -26.349999999999998,4 m 3.4,0 h -3.4 a17.0,17.0 0 1 1 4.1482281485,-33.486121535 a20.4,20.4 0 0 1 36.7205047215,-8.067213252 a13.8125,13.8125 0 0 1 14.381267130000001,8.403334786999999 a17.0,17.0 0 0 1 -5.3082483,33.15 h -3.4" /><path stroke="none" fill="#66a1ba" d="M -27,-7 h5 l18.7,25.5 h-5 l-18.7,-25.5 z m 15,0 h5 l18.7,25.5 h-5 l-18.7,-25.5 z m 15,0 h5 l18.7,25.5 h-5 l-18.7,-25.5 z " /><path stroke="none" fill="#000000" d="M-9.42235138,48 l8.54455967,-4.047423 a6.04100450,6.04100450 0 0 0 2.54603347,-8.64621208 l-3.23725145,-5.21347156 a2.74580363,2.74580363 0 0 1 0.78256116,-3.71485342 l4.93895246,-3.37803994 h-1.38888889 l-5.10795449,2.93585208 a4.68254091,4.68254091 0 0 0 -2.09563466,5.5796135 l2.27226862,6.62156404 a3.29583971,3.29583971 0 0 1 -1.84474537,4.10998876 l-13.74323385,5.75298161 z m33.33333333,0 l1.22771241,-1.22771241 a6.20359314,6.20359314 0 0 0 -1.28480621,-9.75907203 l-13.55967183,-7.82868018 a3.22628070,3.22628070 0 0 1 -1.41857181,-3.89749403 l0.83241498,-2.28704135 h-1.38888889 l-0.68119443,1.08342259 a4.68254091,4.68254091 0 0 0 1.30173924,6.30605466 l12.49300857,8.59055233 a2.68888799,2.68888799 0 0 1 0.13365758,4.33313596 l-5.98873292,4.68683446 z" /><path stroke="#66a1ba" stroke-width="1.2" stroke-linecap="round" fill="none" d="M -17,26 l0.0,16.0 m-6.92820323,-12.0 l13.85640646,8.0 m-13.85640646,-0.0 l13.85640646,-8.0 m-6.92820323,-4.0 m2.30940108,1.33333333 l-2.30940108,1.33333333 l-2.30940108,-1.33333333 m2.30940108,-1.33333333 m-6.92820323,4.0 m2.30940108,-1.33333333 l-0.0,2.66666667 l-2.30940108,1.33333333 m0.0,-2.66666667 m-0.0,8.0 m0.0,-2.66666667 l2.30940108,1.33333333 l0.0,2.66666667 m-2.30940108,-1.33333333 m6.92820323,4.0 m-2.30940108,-1.33333333 l2.30940108,-1.33333333 l2.30940108,1.33333333 m-2.30940108,1.33333333 m6.92820323,-4.0 m-2.30940108,1.33333333 l0.0,-2.66666667 l2.30940108,-1.33333333 m-0.0,2.66666667 m0.0,-8.0 m-0.0,2.66666667 l-2.30940108,-1.33333333 l-0.0,-2.66666667 m2.30940108,1.33333333 " /></g></svg>'
    },
    71: {
        name : 'Snow fall: Slight',
        icon : '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="128" height="100" viewBox="-64 -50 128 100"><g stroke-width="3"><path stroke="#828487" fill="none" d="M -31,22 m 4,0 h -4 a 20,20 0 1 1 4.88026841,-39.3954371 a 24,24 0 0 1 43.20059379,-9.49083912 a 16.25,16.25 0 0 1 16.9191378,9.88627622 a 20,20 0 0 1 -6.244998,39h -4" /><path stroke="#66a1ba" stroke-width="1.5" stroke-linecap="round" fill="none" d="M -13,7 l0.0,20.0 m-8.66025404,-15.0 l17.32050808,10.0 m-17.32050808,-0.0 l17.32050808,-10.0 m-8.66025404,-5.0 m2.88675135,1.66666667 l-2.88675135,1.66666667 l-2.88675135,-1.66666667 m2.88675135,-1.66666667 m-8.66025404,5.0 m2.88675135,-1.66666667 l-0.0,3.33333333 l-2.88675135,1.66666667 m0.0,-3.33333333 m-0.0,10.0 m0.0,-3.33333333 l2.88675135,1.66666667 l0.0,3.33333333 m-2.88675135,-1.66666667 m8.66025404,5.0 m-2.88675135,-1.66666667 l2.88675135,-1.66666667 l2.88675135,1.66666667 m-2.88675135,1.66666667 m8.66025404,-5.0 m-2.88675135,1.66666667 l0.0,-3.33333333 l2.88675135,-1.66666667 m-0.0,3.33333333 m0.0,-10.0 m-0.0,3.33333333 l-2.88675135,-1.66666667 l-0.0,-3.33333333 m2.88675135,1.66666667 " /><path stroke="#66a1ba" stroke-width="1.5" stroke-linecap="round" fill="none" d="M 12,0 l0.0,20.0 m-8.66025404,-15.0 l17.32050808,10.0 m-17.32050808,-0.0 l17.32050808,-10.0 m-8.66025404,-5.0 m2.88675135,1.66666667 l-2.88675135,1.66666667 l-2.88675135,-1.66666667 m2.88675135,-1.66666667 m-8.66025404,5.0 m2.88675135,-1.66666667 l-0.0,3.33333333 l-2.88675135,1.66666667 m0.0,-3.33333333 m-0.0,10.0 m0.0,-3.33333333 l2.88675135,1.66666667 l0.0,3.33333333 m-2.88675135,-1.66666667 m8.66025404,5.0 m-2.88675135,-1.66666667 l2.88675135,-1.66666667 l2.88675135,1.66666667 m-2.88675135,1.66666667 m8.66025404,-5.0 m-2.88675135,1.66666667 l0.0,-3.33333333 l2.88675135,-1.66666667 m-0.0,3.33333333 m0.0,-10.0 m-0.0,3.33333333 l-2.88675135,-1.66666667 l-0.0,-3.33333333 m2.88675135,1.66666667 " /><path stroke="#66a1ba" stroke-width="1.5" stroke-linecap="round" fill="none" d="M 5,23 l0.0,20.0 m-8.66025404,-15.0 l17.32050808,10.0 m-17.32050808,-0.0 l17.32050808,-10.0 m-8.66025404,-5.0 m2.88675135,1.66666667 l-2.88675135,1.66666667 l-2.88675135,-1.66666667 m2.88675135,-1.66666667 m-8.66025404,5.0 m2.88675135,-1.66666667 l-0.0,3.33333333 l-2.88675135,1.66666667 m0.0,-3.33333333 m-0.0,10.0 m0.0,-3.33333333 l2.88675135,1.66666667 l0.0,3.33333333 m-2.88675135,-1.66666667 m8.66025404,5.0 m-2.88675135,-1.66666667 l2.88675135,-1.66666667 l2.88675135,1.66666667 m-2.88675135,1.66666667 m8.66025404,-5.0 m-2.88675135,1.66666667 l0.0,-3.33333333 l2.88675135,-1.66666667 m-0.0,3.33333333 m0.0,-10.0 m-0.0,3.33333333 l-2.88675135,-1.66666667 l-0.0,-3.33333333 m2.88675135,1.66666667 " /></g></svg>'
    },
    73: {
        name : 'Snow fall: moderate',
        icon : '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="128" height="100" viewBox="-64 -50 128 100"><g stroke-width="3"><path stroke="#828487" fill="none" d="M -31,22 m 4,0 h -4 a 20,20 0 1 1 4.88026841,-39.3954371 a 24,24 0 0 1 43.20059379,-9.49083912 a 16.25,16.25 0 0 1 16.9191378,9.88627622 a 20,20 0 0 1 -6.244998,39h -4" /><path stroke="#66a1ba" stroke-width="1.5" stroke-linecap="round" fill="none" d="M -13,7 l0.0,20.0 m-8.66025404,-15.0 l17.32050808,10.0 m-17.32050808,-0.0 l17.32050808,-10.0 m-8.66025404,-5.0 m2.88675135,1.66666667 l-2.88675135,1.66666667 l-2.88675135,-1.66666667 m2.88675135,-1.66666667 m-8.66025404,5.0 m2.88675135,-1.66666667 l-0.0,3.33333333 l-2.88675135,1.66666667 m0.0,-3.33333333 m-0.0,10.0 m0.0,-3.33333333 l2.88675135,1.66666667 l0.0,3.33333333 m-2.88675135,-1.66666667 m8.66025404,5.0 m-2.88675135,-1.66666667 l2.88675135,-1.66666667 l2.88675135,1.66666667 m-2.88675135,1.66666667 m8.66025404,-5.0 m-2.88675135,1.66666667 l0.0,-3.33333333 l2.88675135,-1.66666667 m-0.0,3.33333333 m0.0,-10.0 m-0.0,3.33333333 l-2.88675135,-1.66666667 l-0.0,-3.33333333 m2.88675135,1.66666667 " /><path stroke="#66a1ba" stroke-width="1.5" stroke-linecap="round" fill="none" d="M 12,0 l0.0,20.0 m-8.66025404,-15.0 l17.32050808,10.0 m-17.32050808,-0.0 l17.32050808,-10.0 m-8.66025404,-5.0 m2.88675135,1.66666667 l-2.88675135,1.66666667 l-2.88675135,-1.66666667 m2.88675135,-1.66666667 m-8.66025404,5.0 m2.88675135,-1.66666667 l-0.0,3.33333333 l-2.88675135,1.66666667 m0.0,-3.33333333 m-0.0,10.0 m0.0,-3.33333333 l2.88675135,1.66666667 l0.0,3.33333333 m-2.88675135,-1.66666667 m8.66025404,5.0 m-2.88675135,-1.66666667 l2.88675135,-1.66666667 l2.88675135,1.66666667 m-2.88675135,1.66666667 m8.66025404,-5.0 m-2.88675135,1.66666667 l0.0,-3.33333333 l2.88675135,-1.66666667 m-0.0,3.33333333 m0.0,-10.0 m-0.0,3.33333333 l-2.88675135,-1.66666667 l-0.0,-3.33333333 m2.88675135,1.66666667 " /><path stroke="#66a1ba" stroke-width="1.5" stroke-linecap="round" fill="none" d="M 5,23 l0.0,20.0 m-8.66025404,-15.0 l17.32050808,10.0 m-17.32050808,-0.0 l17.32050808,-10.0 m-8.66025404,-5.0 m2.88675135,1.66666667 l-2.88675135,1.66666667 l-2.88675135,-1.66666667 m2.88675135,-1.66666667 m-8.66025404,5.0 m2.88675135,-1.66666667 l-0.0,3.33333333 l-2.88675135,1.66666667 m0.0,-3.33333333 m-0.0,10.0 m0.0,-3.33333333 l2.88675135,1.66666667 l0.0,3.33333333 m-2.88675135,-1.66666667 m8.66025404,5.0 m-2.88675135,-1.66666667 l2.88675135,-1.66666667 l2.88675135,1.66666667 m-2.88675135,1.66666667 m8.66025404,-5.0 m-2.88675135,1.66666667 l0.0,-3.33333333 l2.88675135,-1.66666667 m-0.0,3.33333333 m0.0,-10.0 m-0.0,3.33333333 l-2.88675135,-1.66666667 l-0.0,-3.33333333 m2.88675135,1.66666667 " /></g></svg>'
    },
    75: {
        name : 'Snow fall: heavy intensity',
        icon : '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="128" height="100" viewBox="-64 -50 128 100"><g stroke-width="3"><path stroke="#828487" fill="none" d="M -31,22 m 4,0 h -4 a 20,20 0 1 1 4.88026841,-39.3954371 a 24,24 0 0 1 43.20059379,-9.49083912 a 16.25,16.25 0 0 1 16.9191378,9.88627622 a 20,20 0 0 1 -6.244998,39h -4" /><path stroke="#66a1ba" stroke-width="1.5" stroke-linecap="round" fill="none" d="M -13,7 l0.0,20.0 m-8.66025404,-15.0 l17.32050808,10.0 m-17.32050808,-0.0 l17.32050808,-10.0 m-8.66025404,-5.0 m2.88675135,1.66666667 l-2.88675135,1.66666667 l-2.88675135,-1.66666667 m2.88675135,-1.66666667 m-8.66025404,5.0 m2.88675135,-1.66666667 l-0.0,3.33333333 l-2.88675135,1.66666667 m0.0,-3.33333333 m-0.0,10.0 m0.0,-3.33333333 l2.88675135,1.66666667 l0.0,3.33333333 m-2.88675135,-1.66666667 m8.66025404,5.0 m-2.88675135,-1.66666667 l2.88675135,-1.66666667 l2.88675135,1.66666667 m-2.88675135,1.66666667 m8.66025404,-5.0 m-2.88675135,1.66666667 l0.0,-3.33333333 l2.88675135,-1.66666667 m-0.0,3.33333333 m0.0,-10.0 m-0.0,3.33333333 l-2.88675135,-1.66666667 l-0.0,-3.33333333 m2.88675135,1.66666667 " /><path stroke="#66a1ba" stroke-width="1.5" stroke-linecap="round" fill="none" d="M 12,0 l0.0,20.0 m-8.66025404,-15.0 l17.32050808,10.0 m-17.32050808,-0.0 l17.32050808,-10.0 m-8.66025404,-5.0 m2.88675135,1.66666667 l-2.88675135,1.66666667 l-2.88675135,-1.66666667 m2.88675135,-1.66666667 m-8.66025404,5.0 m2.88675135,-1.66666667 l-0.0,3.33333333 l-2.88675135,1.66666667 m0.0,-3.33333333 m-0.0,10.0 m0.0,-3.33333333 l2.88675135,1.66666667 l0.0,3.33333333 m-2.88675135,-1.66666667 m8.66025404,5.0 m-2.88675135,-1.66666667 l2.88675135,-1.66666667 l2.88675135,1.66666667 m-2.88675135,1.66666667 m8.66025404,-5.0 m-2.88675135,1.66666667 l0.0,-3.33333333 l2.88675135,-1.66666667 m-0.0,3.33333333 m0.0,-10.0 m-0.0,3.33333333 l-2.88675135,-1.66666667 l-0.0,-3.33333333 m2.88675135,1.66666667 " /><path stroke="#66a1ba" stroke-width="1.5" stroke-linecap="round" fill="none" d="M 5,23 l0.0,20.0 m-8.66025404,-15.0 l17.32050808,10.0 m-17.32050808,-0.0 l17.32050808,-10.0 m-8.66025404,-5.0 m2.88675135,1.66666667 l-2.88675135,1.66666667 l-2.88675135,-1.66666667 m2.88675135,-1.66666667 m-8.66025404,5.0 m2.88675135,-1.66666667 l-0.0,3.33333333 l-2.88675135,1.66666667 m0.0,-3.33333333 m-0.0,10.0 m0.0,-3.33333333 l2.88675135,1.66666667 l0.0,3.33333333 m-2.88675135,-1.66666667 m8.66025404,5.0 m-2.88675135,-1.66666667 l2.88675135,-1.66666667 l2.88675135,1.66666667 m-2.88675135,1.66666667 m8.66025404,-5.0 m-2.88675135,1.66666667 l0.0,-3.33333333 l2.88675135,-1.66666667 m-0.0,3.33333333 m0.0,-10.0 m-0.0,3.33333333 l-2.88675135,-1.66666667 l-0.0,-3.33333333 m2.88675135,1.66666667 " /></g></svg>'
    },
    77: {
        name : 'Snow grains',
        icon : '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="128" height="100" viewBox="-64 -50 128 100"><g stroke-width="3"><path stroke="#828487" fill="none" d="M -31,22 m 4,0 h -4 a 20,20 0 1 1 4.88026841,-39.3954371 a 24,24 0 0 1 43.20059379,-9.49083912 a 16.25,16.25 0 0 1 16.9191378,9.88627622 a 20,20 0 0 1 -6.244998,39h -4" /><path stroke="#66a1ba" stroke-width="1.5" stroke-linecap="round" fill="none" d="M -13,7 l0.0,20.0 m-8.66025404,-15.0 l17.32050808,10.0 m-17.32050808,-0.0 l17.32050808,-10.0 m-8.66025404,-5.0 m2.88675135,1.66666667 l-2.88675135,1.66666667 l-2.88675135,-1.66666667 m2.88675135,-1.66666667 m-8.66025404,5.0 m2.88675135,-1.66666667 l-0.0,3.33333333 l-2.88675135,1.66666667 m0.0,-3.33333333 m-0.0,10.0 m0.0,-3.33333333 l2.88675135,1.66666667 l0.0,3.33333333 m-2.88675135,-1.66666667 m8.66025404,5.0 m-2.88675135,-1.66666667 l2.88675135,-1.66666667 l2.88675135,1.66666667 m-2.88675135,1.66666667 m8.66025404,-5.0 m-2.88675135,1.66666667 l0.0,-3.33333333 l2.88675135,-1.66666667 m-0.0,3.33333333 m0.0,-10.0 m-0.0,3.33333333 l-2.88675135,-1.66666667 l-0.0,-3.33333333 m2.88675135,1.66666667 " /><path stroke="#66a1ba" stroke-width="1.5" stroke-linecap="round" fill="none" d="M 12,0 l0.0,20.0 m-8.66025404,-15.0 l17.32050808,10.0 m-17.32050808,-0.0 l17.32050808,-10.0 m-8.66025404,-5.0 m2.88675135,1.66666667 l-2.88675135,1.66666667 l-2.88675135,-1.66666667 m2.88675135,-1.66666667 m-8.66025404,5.0 m2.88675135,-1.66666667 l-0.0,3.33333333 l-2.88675135,1.66666667 m0.0,-3.33333333 m-0.0,10.0 m0.0,-3.33333333 l2.88675135,1.66666667 l0.0,3.33333333 m-2.88675135,-1.66666667 m8.66025404,5.0 m-2.88675135,-1.66666667 l2.88675135,-1.66666667 l2.88675135,1.66666667 m-2.88675135,1.66666667 m8.66025404,-5.0 m-2.88675135,1.66666667 l0.0,-3.33333333 l2.88675135,-1.66666667 m-0.0,3.33333333 m0.0,-10.0 m-0.0,3.33333333 l-2.88675135,-1.66666667 l-0.0,-3.33333333 m2.88675135,1.66666667 " /><path stroke="#66a1ba" stroke-width="1.5" stroke-linecap="round" fill="none" d="M 5,23 l0.0,20.0 m-8.66025404,-15.0 l17.32050808,10.0 m-17.32050808,-0.0 l17.32050808,-10.0 m-8.66025404,-5.0 m2.88675135,1.66666667 l-2.88675135,1.66666667 l-2.88675135,-1.66666667 m2.88675135,-1.66666667 m-8.66025404,5.0 m2.88675135,-1.66666667 l-0.0,3.33333333 l-2.88675135,1.66666667 m0.0,-3.33333333 m-0.0,10.0 m0.0,-3.33333333 l2.88675135,1.66666667 l0.0,3.33333333 m-2.88675135,-1.66666667 m8.66025404,5.0 m-2.88675135,-1.66666667 l2.88675135,-1.66666667 l2.88675135,1.66666667 m-2.88675135,1.66666667 m8.66025404,-5.0 m-2.88675135,1.66666667 l0.0,-3.33333333 l2.88675135,-1.66666667 m-0.0,3.33333333 m0.0,-10.0 m-0.0,3.33333333 l-2.88675135,-1.66666667 l-0.0,-3.33333333 m2.88675135,1.66666667 " /></g></svg>'
    },
    80: {
        name : 'Rain showers: Slight',
        icon : '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="128" height="100" viewBox="-64 -50 128 100"><g stroke-width="3"><path stroke="#828487" fill="none" d="M -31,22 m 4,0 h -4 a 20,20 0 1 1 4.88026841,-39.3954371 a 24,24 0 0 1 43.20059379,-9.49083912 a 16.25,16.25 0 0 1 16.9191378,9.88627622 a 20,20 0 0 1 -6.244998,39h -4" /><path stroke="none" fill="#66a1ba" d="M -28,10 h5 l22.0,30 h-5 l-22.0,-30 z m 15,0 h5 l22.0,30 h-5 l-22.0,-30 z m 15,0 h5 l22.0,30 h-5 l-22.0,-30 z " /></g></svg>'
    },
    81: {
        name : 'Rain showers: moderate',
        icon : '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="128" height="100" viewBox="-64 -50 128 100"><g stroke-width="3"><path stroke="#828487" fill="none" d="M -31,22 m 4,0 h -4 a 20,20 0 1 1 4.88026841,-39.3954371 a 24,24 0 0 1 43.20059379,-9.49083912 a 16.25,16.25 0 0 1 16.9191378,9.88627622 a 20,20 0 0 1 -6.244998,39h -4" /><path stroke="none" fill="#66a1ba" d="M -28,10 h5 l22.0,30 h-5 l-22.0,-30 z m 15,0 h5 l22.0,30 h-5 l-22.0,-30 z m 15,0 h5 l22.0,30 h-5 l-22.0,-30 z " /></g></svg>'
    },
    82: {
        name : 'Rain showers:violent',
        icon : '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="128" height="100" viewBox="-64 -50 128 100"><g stroke-width="3"><path stroke="#828487" fill="none" d="M -31,22 m 4,0 h -4 a 20,20 0 1 1 4.88026841,-39.3954371 a 24,24 0 0 1 43.20059379,-9.49083912 a 16.25,16.25 0 0 1 16.9191378,9.88627622 a 20,20 0 0 1 -6.244998,39h -4" /><path stroke="none" fill="#66a1ba" d="M -28,10 h5 l22.0,30 h-5 l-22.0,-30 z m 15,0 h5 l22.0,30 h-5 l-22.0,-30 z m 15,0 h5 l22.0,30 h-5 l-22.0,-30 z " /></g></svg>'
    },
    85: {
        name : 'Snow showers slight',
        icon : '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="128" height="100" viewBox="-64 -50 128 100"><g stroke-width="3"><path stroke="#828487" fill="none" d="M -31,22 m 4,0 h -4 a 20,20 0 1 1 4.88026841,-39.3954371 a 24,24 0 0 1 43.20059379,-9.49083912 a 16.25,16.25 0 0 1 16.9191378,9.88627622 a 20,20 0 0 1 -6.244998,39h -4" /><path stroke="#66a1ba" stroke-width="1.5" stroke-linecap="round" fill="none" d="M -13,7 l0.0,20.0 m-8.66025404,-15.0 l17.32050808,10.0 m-17.32050808,-0.0 l17.32050808,-10.0 m-8.66025404,-5.0 m2.88675135,1.66666667 l-2.88675135,1.66666667 l-2.88675135,-1.66666667 m2.88675135,-1.66666667 m-8.66025404,5.0 m2.88675135,-1.66666667 l-0.0,3.33333333 l-2.88675135,1.66666667 m0.0,-3.33333333 m-0.0,10.0 m0.0,-3.33333333 l2.88675135,1.66666667 l0.0,3.33333333 m-2.88675135,-1.66666667 m8.66025404,5.0 m-2.88675135,-1.66666667 l2.88675135,-1.66666667 l2.88675135,1.66666667 m-2.88675135,1.66666667 m8.66025404,-5.0 m-2.88675135,1.66666667 l0.0,-3.33333333 l2.88675135,-1.66666667 m-0.0,3.33333333 m0.0,-10.0 m-0.0,3.33333333 l-2.88675135,-1.66666667 l-0.0,-3.33333333 m2.88675135,1.66666667 " /><path stroke="#66a1ba" stroke-width="1.5" stroke-linecap="round" fill="none" d="M 12,0 l0.0,20.0 m-8.66025404,-15.0 l17.32050808,10.0 m-17.32050808,-0.0 l17.32050808,-10.0 m-8.66025404,-5.0 m2.88675135,1.66666667 l-2.88675135,1.66666667 l-2.88675135,-1.66666667 m2.88675135,-1.66666667 m-8.66025404,5.0 m2.88675135,-1.66666667 l-0.0,3.33333333 l-2.88675135,1.66666667 m0.0,-3.33333333 m-0.0,10.0 m0.0,-3.33333333 l2.88675135,1.66666667 l0.0,3.33333333 m-2.88675135,-1.66666667 m8.66025404,5.0 m-2.88675135,-1.66666667 l2.88675135,-1.66666667 l2.88675135,1.66666667 m-2.88675135,1.66666667 m8.66025404,-5.0 m-2.88675135,1.66666667 l0.0,-3.33333333 l2.88675135,-1.66666667 m-0.0,3.33333333 m0.0,-10.0 m-0.0,3.33333333 l-2.88675135,-1.66666667 l-0.0,-3.33333333 m2.88675135,1.66666667 " /><path stroke="#66a1ba" stroke-width="1.5" stroke-linecap="round" fill="none" d="M 5,23 l0.0,20.0 m-8.66025404,-15.0 l17.32050808,10.0 m-17.32050808,-0.0 l17.32050808,-10.0 m-8.66025404,-5.0 m2.88675135,1.66666667 l-2.88675135,1.66666667 l-2.88675135,-1.66666667 m2.88675135,-1.66666667 m-8.66025404,5.0 m2.88675135,-1.66666667 l-0.0,3.33333333 l-2.88675135,1.66666667 m0.0,-3.33333333 m-0.0,10.0 m0.0,-3.33333333 l2.88675135,1.66666667 l0.0,3.33333333 m-2.88675135,-1.66666667 m8.66025404,5.0 m-2.88675135,-1.66666667 l2.88675135,-1.66666667 l2.88675135,1.66666667 m-2.88675135,1.66666667 m8.66025404,-5.0 m-2.88675135,1.66666667 l0.0,-3.33333333 l2.88675135,-1.66666667 m-0.0,3.33333333 m0.0,-10.0 m-0.0,3.33333333 l-2.88675135,-1.66666667 l-0.0,-3.33333333 m2.88675135,1.66666667 " /></g></svg>'
    },
    86: {
        name : 'Snow showers heavy',
        icon : '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="128" height="100" viewBox="-64 -50 128 100"><g stroke-width="3"><path stroke="#828487" fill="none" d="M -31,22 m 4,0 h -4 a 20,20 0 1 1 4.88026841,-39.3954371 a 24,24 0 0 1 43.20059379,-9.49083912 a 16.25,16.25 0 0 1 16.9191378,9.88627622 a 20,20 0 0 1 -6.244998,39h -4" /><path stroke="#66a1ba" stroke-width="1.5" stroke-linecap="round" fill="none" d="M -13,7 l0.0,20.0 m-8.66025404,-15.0 l17.32050808,10.0 m-17.32050808,-0.0 l17.32050808,-10.0 m-8.66025404,-5.0 m2.88675135,1.66666667 l-2.88675135,1.66666667 l-2.88675135,-1.66666667 m2.88675135,-1.66666667 m-8.66025404,5.0 m2.88675135,-1.66666667 l-0.0,3.33333333 l-2.88675135,1.66666667 m0.0,-3.33333333 m-0.0,10.0 m0.0,-3.33333333 l2.88675135,1.66666667 l0.0,3.33333333 m-2.88675135,-1.66666667 m8.66025404,5.0 m-2.88675135,-1.66666667 l2.88675135,-1.66666667 l2.88675135,1.66666667 m-2.88675135,1.66666667 m8.66025404,-5.0 m-2.88675135,1.66666667 l0.0,-3.33333333 l2.88675135,-1.66666667 m-0.0,3.33333333 m0.0,-10.0 m-0.0,3.33333333 l-2.88675135,-1.66666667 l-0.0,-3.33333333 m2.88675135,1.66666667 " /><path stroke="#66a1ba" stroke-width="1.5" stroke-linecap="round" fill="none" d="M 12,0 l0.0,20.0 m-8.66025404,-15.0 l17.32050808,10.0 m-17.32050808,-0.0 l17.32050808,-10.0 m-8.66025404,-5.0 m2.88675135,1.66666667 l-2.88675135,1.66666667 l-2.88675135,-1.66666667 m2.88675135,-1.66666667 m-8.66025404,5.0 m2.88675135,-1.66666667 l-0.0,3.33333333 l-2.88675135,1.66666667 m0.0,-3.33333333 m-0.0,10.0 m0.0,-3.33333333 l2.88675135,1.66666667 l0.0,3.33333333 m-2.88675135,-1.66666667 m8.66025404,5.0 m-2.88675135,-1.66666667 l2.88675135,-1.66666667 l2.88675135,1.66666667 m-2.88675135,1.66666667 m8.66025404,-5.0 m-2.88675135,1.66666667 l0.0,-3.33333333 l2.88675135,-1.66666667 m-0.0,3.33333333 m0.0,-10.0 m-0.0,3.33333333 l-2.88675135,-1.66666667 l-0.0,-3.33333333 m2.88675135,1.66666667 " /><path stroke="#66a1ba" stroke-width="1.5" stroke-linecap="round" fill="none" d="M 5,23 l0.0,20.0 m-8.66025404,-15.0 l17.32050808,10.0 m-17.32050808,-0.0 l17.32050808,-10.0 m-8.66025404,-5.0 m2.88675135,1.66666667 l-2.88675135,1.66666667 l-2.88675135,-1.66666667 m2.88675135,-1.66666667 m-8.66025404,5.0 m2.88675135,-1.66666667 l-0.0,3.33333333 l-2.88675135,1.66666667 m0.0,-3.33333333 m-0.0,10.0 m0.0,-3.33333333 l2.88675135,1.66666667 l0.0,3.33333333 m-2.88675135,-1.66666667 m8.66025404,5.0 m-2.88675135,-1.66666667 l2.88675135,-1.66666667 l2.88675135,1.66666667 m-2.88675135,1.66666667 m8.66025404,-5.0 m-2.88675135,1.66666667 l0.0,-3.33333333 l2.88675135,-1.66666667 m-0.0,3.33333333 m0.0,-10.0 m-0.0,3.33333333 l-2.88675135,-1.66666667 l-0.0,-3.33333333 m2.88675135,1.66666667 " /></g></svg>'
    },
    95: {
        name : 'Thunderstorm: Slight or moderate',
        icon : '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="128" height="100" viewBox="-64 -50 128 100"><g stroke-width="3"><path stroke="#828487" fill="none" d="M -31,22 m 4,0 h -4 a 20,20 0 1 1 4.88026841,-39.3954371 a 24,24 0 0 1 43.20059379,-9.49083912 a 16.25,16.25 0 0 1 16.9191378,9.88627622 a 20,20 0 0 1 -6.244998,39h -4" /><path stroke-width="2" stroke-linejoin="round" stroke="#f6bc68" fill="#f6bc68" d="M-4,6 l9.12538211,-21.49805304 l-12.39550268,3.32136493 l7.14107222,-16.82331189 h-8.81753557 l-4.1787982,21.49805304 l12.39550268,-3.32136493 z" /><path stroke="none" fill="#66a1ba" d="M -28,10 h5 l22.0,30 h-5 l-22.0,-30 z m 15,0 h5 l22.0,30 h-5 l-22.0,-30 z m 15,0 h5 l22.0,30 h-5 l-22.0,-30 z " /></g></svg>'
    },
    96: {
        name : 'Thunderstorm with slight hail',
        icon : '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="128" height="100" viewBox="-64 -50 128 100"><g stroke-width="3"><path stroke="#828487" fill="none" d="M -31,22 m 4,0 h -4 a 20,20 0 1 1 4.88026841,-39.3954371 a 24,24 0 0 1 43.20059379,-9.49083912 a 16.25,16.25 0 0 1 16.9191378,9.88627622 a 20,20 0 0 1 -6.244998,39h -4" /><path stroke-width="2" stroke-linejoin="round" stroke="#f6bc68" fill="#f6bc68" d="M-4,6 l9.12538211,-21.49805304 l-12.39550268,3.32136493 l7.14107222,-16.82331189 h-8.81753557 l-4.1787982,21.49805304 l12.39550268,-3.32136493 z" /><g stroke="none" fill="#66a1ba"><circle cx="-15" cy="37" r="4" /><circle cx="-6" cy="19" r="4" /><circle cx="11" cy="30" r="4" /></g></g></svg>'
    },
    90: {
        name : 'Thunderstorm with heavy hail',
        icon : '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="128" height="100" viewBox="-64 -50 128 100"><g stroke-width="3"><path stroke="#828487" fill="none" d="M -31,22 m 4,0 h -4 a 20,20 0 1 1 4.88026841,-39.3954371 a 24,24 0 0 1 43.20059379,-9.49083912 a 16.25,16.25 0 0 1 16.9191378,9.88627622 a 20,20 0 0 1 -6.244998,39h -4" /><path stroke-width="2" stroke-linejoin="round" stroke="#f6bc68" fill="#f6bc68" d="M-4,6 l9.12538211,-21.49805304 l-12.39550268,3.32136493 l7.14107222,-16.82331189 h-8.81753557 l-4.1787982,21.49805304 l12.39550268,-3.32136493 z" /><g stroke="none" fill="#66a1ba"><circle cx="-15" cy="37" r="4" /><circle cx="-6" cy="19" r="4" /><circle cx="11" cy="30" r="4" /></g></g></svg>'
    },
    'undefined': {
        name : 'undefined',
        icon : '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="128" height="100" viewBox="-64 -50 128 100"><g stroke-width="3"><path stroke="#828487" fill="none" d="M -31,28 a 20,20 0 1 1 4.88026841,-39.3954371 a 24,24 0 0 1 43.20059379,-9.49083912 a 16.25,16.25 0 0 1 16.9191378,9.88627622 a 20,20 0 0 1 -6.244998,39z" /><text x="-18" y="18" fill="#828487" style="font-family:sans-serif;font-size:50px;font-weight:normal;text-align:center">?</text></g></svg>'
    }
};


function httpGetAsync(theUrl, params, callback)
{
    var paramString = '';
    if(theUrl == '' || typeof theUrl != 'string' || callback == '' || typeof callback == 'undefined'){
        return false;
    }
    if(typeof params == 'object'){
        paramString = formatParams(params);
    }else if(params != ''){
        return false;
    }

    var urlGetString = theUrl+paramString;
    var xmlHttp = new XMLHttpRequest();
    xmlHttp.onreadystatechange = function() {
        if (xmlHttp.readyState == 4 && xmlHttp.status == 200)
            callback(xmlHttp.responseText);
    }
    xmlHttp.open('GET', urlGetString, true); // true for asynchronous
    xmlHttp.send(null);
    return true;
}
function formatParams( params ){
    if(typeof params != 'object'){
        return '';
    }
    return '?' + Object
            .keys(params)
            .map(function(key){
                return key+'='+encodeURIComponent(params[key])
            })
            .join('&')
}
function formatDateToMonthDay(date){
    if(typeof date == 'undefined' || date == ''){
        return '';
    }
    var d = new Date(date);
    var dateFormatted = d.getDate()+ ' ' + d.toLocaleString('default', { month: 'long' });
    var hour = d.getHours();
    return dateFormatted +' - '+ hour+':00';
}
function createTodayDate() {
    var objToday = new Date();
    var date = objToday.toDateString();
    var weekday = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
    var dayOfWeek = weekday[objToday.getDay()];
    return dayOfWeek+', '+objToday.getHours()+':'+objToday.getMinutes();
}

function fetchWeatherData(temp){
    var weatherParams = {
        latitude: '65.01',
        longitude:'25.47',
        current:'temperature_2m,weather_code,wind_speed_10m',
        hourly:'temperature_2m',
        daily:'weather_code,temperature_2m_max,temperature_2m_min',
        models:'best_match'
    };
    var weatherUrlToGet = '';
    if(temp === 'f'){
        weatherParams.temperature_unit = 'fahrenheit';
        // change acrive bachground
        if ( document.getElementById('temp_c').classList.contains('bg-blue-500') ){
            document.getElementById('temp_c').classList.toggle('bg-blue-500');
            document.getElementById('temp_c').classList.add('bg-white');
            document.getElementById('temp_f').classList.toggle('bg-white');
            document.getElementById('temp_f').classList.add('bg-blue-500');
        }
        ///change active text color
        if ( document.getElementById('temp_c').classList.contains('text-white') ){
            document.getElementById('temp_c').classList.toggle('text-white');
            document.getElementById('temp_c').classList.add('text-slate-900');
            document.getElementById('temp_f').classList.toggle('text-slate-900');
            document.getElementById('temp_f').classList.add('text-white');
        }
    }else{
        // change acrive bachground
        if ( document.getElementById('temp_f').classList.contains('bg-blue-500') ){
            document.getElementById('temp_f').classList.toggle('bg-blue-500');
            document.getElementById('temp_f').classList.add('bg-white');
            document.getElementById('temp_c').classList.toggle('bg-white');
            document.getElementById('temp_c').classList.add('bg-blue-500');
        }
        ///change active text color
        if ( document.getElementById('temp_f').classList.contains('text-white') ){
            document.getElementById('temp_f').classList.toggle('text-white');
            document.getElementById('temp_f').classList.add('text-slate-900');
            document.getElementById('temp_c').classList.toggle('text-slate-900');
            document.getElementById('temp_c').classList.add('text-white');
        }

    }
    httpGetAsync(weatherUrl, weatherParams ,function (data) {

        if(typeof data == 'string' && data != '') {
            data = JSON.parse(data);
            // create current data
            var currentWeather = {
                'time': data['current']['time'],
                'weather_code': data['current']['weather_code'],
                'weather_code_des': weatherCodes[data['current']['weather_code']]['name'],
                'wind_speed': data['current']['wind_speed_10m'],
                'wind_speed_unit': data['current_units']['wind_speed_10m'],
                'temperature_2m': data['current']['temperature_2m'],
                'temp_unit': data['current_units']['temperature_2m']
            };

            //create daily data
            if (typeof data['daily'] == 'object') {
                var weekWeather = {
                    'forecast': {}, 'unit': {
                        'max_unit': data['daily_units']['temperature_2m_max'],
                        'min_unit': data['daily_units']['temperature_2m_min']
                    }
                };
                var weekTimes = data['daily']['time'];
                var weekdailys = data['daily'];
                for (var i in weekTimes) {
                    weekWeather['forecast'][i] = {
                        'time': weekTimes[i],
                        'weather_code': weekdailys['weather_code'][i],
                        'weather_code_des': weatherCodes[weekdailys['weather_code'][i]]['name'],
                        'min_temp': weekdailys['temperature_2m_min'][i],
                        'max_temp': weekdailys['temperature_2m_max'][i]

                    };

                }
                createDailyWeatherHTML(weekWeather);
            }
            var hourlyData = [];
            var hTimes = data['hourly']['time'];
            for (var h in hTimes) {
                hourlyData[h] = [formatDateToMonthDay(hTimes[h]), data['hourly']['temperature_2m'][h]]
                i++;
            }
            createCurrentWeatherHTML(currentWeather);
            createChart(hourlyData);
        }else{
            document.getElementById('left_col').innerHTML = '<div class="text-base font-semibold text-rose-500 text-center my-3">Fetch data is failed. please try again!</div>';
        }
    });
}


function createDailyWeatherHTML(weatherData){
    if(typeof weatherData == 'object'){
        var html = '<section class="daily_forecast_container"><header class="w-full text-black font-sans text-x2 font-bold self-center mb-3">Weekly Highlight</header>' +
            '<div class="grid grid-cols-3 xl:grid-cols-7 gap-2 py-2 auto-rows-fr">';
        var date,objDay,wIcon,wDesc;
        var weekday = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
        var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];

        for(var index in weatherData['forecast']){
            var todayWidth  = '';
            var todayDegWidth = '';
            var minTemp = '';
            var maxTemp = '';
            if(index == 0){
                date = 'Today';
                todayWidth = 'max-xl:col-span-3';
                todayDegWidth = 'max-xl:w-2/5 div_center';
            }else{
                objDay = new Date(weatherData['forecast'][index]['time']);
                date = weekday[objDay.getDay()]+', '+months[objDay.getMonth()]+' '+objDay.getDate();
            }
            if(typeof weatherCodes[weatherData['forecast'][index]['weather_code']] == 'undefined'){
                wIcon = weatherCodes['undefined']['icon'];
                wDesc = 'undefined data';
            }else{
                wIcon = weatherCodes[weatherData['forecast'][index]['weather_code']]['icon'];
                wDesc = weatherData['forecast'][index]['weather_code_des'];
            }
            if(typeof weatherCodes[weatherData['forecast'][index]['weather_code']] == 'undefined'){
                wIcon = weatherCodes['undefined']['icon'];
                wDesc = 'undefined data';
            }
            if(typeof weatherData['forecast'][index]['max_temp'] != 'undefined' && typeof weatherData['unit']['max_unit'] != 'undefined'){
                maxTemp = weatherData['forecast'][index]['max_temp']+weatherData['unit']['max_unit'];
            }
            if(typeof weatherData['forecast'][index]['min_temp'] != 'undefined' && typeof weatherData['unit']['min_unit'] != 'undefined'){
                minTemp = weatherData['forecast'][index]['min_temp']+weatherData['unit']['min_unit'];
            }
            html += '<div class="text-center daily_forecast p-3 h-full border border-gray-200 rounded shadow '+todayWidth+'">' +
                '<div class="daily_date font-bold mb-2">'+date+'</div>'+ wIcon +
                '<div class="daily_weather_code py-3">'+wDesc+'</div>'+
                '<div class="daily_temp text-sm flex justify-between '+todayDegWidth+'"><span class="max text-gray-800 max-md:inline-block">'+maxTemp+'</span><span class="min text-gray-400 pl-3 max-md:pl-0">'+minTemp+'</span> </div>'+
                '</div>';
        }
        html += '</div></section>';
        document.getElementById("week").innerHTML = html;

    }else{
        document.getElementById('week').innerHTML = '<div class="text-base font-semibold text-rose-500 text-center my-3 w-full">Fetch weekly data is failed. please try again!</div>';
    }
}
function createCurrentWeatherHTML(weatherData){
    if(typeof weatherData == 'object'){
        var html = '<section class="current_forecast_container"><header class="w-full text-black font-sans text-x2 font-bold self-center mb-3">Current Weather</header><div class="flex">';
        var date = createTodayDate();
        var wIcon,wDesc;
        var temp = 'undefined temp';
        var wind = 'undefined wind info';
        if(typeof weatherCodes[weatherData['weather_code']] == 'undefined'){
            wIcon = weatherCodes['undefined']['icon'];
            wDesc = 'undefined data';
        }else{
            wIcon = weatherCodes[weatherData['weather_code']]['icon'];
            wDesc = weatherData['weather_code_des'];
        }

        if(typeof weatherData['temperature_2m'] != 'undefined' && typeof weatherData['temp_unit'] != 'undefined'){
            temp = weatherData['temperature_2m']+weatherData['temp_unit'];
        }
        if(typeof weatherData['wind_speed'] != 'undefined' && typeof weatherData['wind_speed_unit'] != 'undefined'){
            wind = weatherData['wind_speed']+weatherData['wind_speed_unit'];
        }
        html += '<div class="current_forecast w-full">' + wIcon +
                '<div class="current_temp text-black font-sans text-4xl font-bold mb-1">'+temp+'</div>'+

                '<div class="daily_date text-black font-sans text-x1 font-bold mb-3">'+date+'</div>'+

                '<div class="current_weather_code pb-4 border-b mb-4">'+wDesc+'</div>'+

                '<div class="current_wind">'+
                '<svg class="inline-block pr-2" width="25px" height="25px" viewBox="-5.7 -5.7 41.40 41.40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" fill="#f26418" stroke="#f26418" transform="matrix(1, 0, 0, 1, 0, 0)"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#CCCCCC" stroke-width="0.3"></g><g id="SVGRepo_iconCarrier"> <title>wind-flag</title> <desc>Created with Sketch Beta.</desc> <defs> </defs> <g id="Page-1" stroke-width="0.00030000000000000003" fill="none" fill-rule="evenodd" sketch:type="MSPage"> <g id="Icon-Set-Filled" sketch:type="MSLayerGroup" transform="translate(-467.000000, -778.000000)" fill="#ff0000"> <path d="M495,780 L491,779.637 L491,791.363 L495,791 C496.104,791 497,790.104 497,789 L497,782 C497,780.896 496.104,780 495,780 L495,780 Z M483,792.091 L489,791.546 L489,779.455 L483,778.909 L483,792.091 L483,792.091 Z M471,780 L471,791 C471,792.104 471.896,793 473,793 L481,792.272 L481,778.728 L473,778 C471.896,778 471,778.896 471,780 L471,780 Z M468,778 C467.447,778 467,778.448 467,779 L467,807 C467,807.553 467.447,808 468,808 C468.553,808 469,807.553 469,807 L469,779 C469,778.448 468.553,778 468,778 L468,778 Z" id="wind-flag" sketch:type="MSShapeGroup"> </path> </g> </g> </g></svg>'+
                'Wind speed: '+wind+'</div>'+
                '</div>';
        html += '</div></section>';
        document.getElementById("current").innerHTML = html;

    }else{
        document.getElementById('current').innerHTML = '<div class="text-base font-semibold text-rose-500 text-center my-3">Fetch current data is failed. please try again!</div>';

    }
}

function createChart(weatherData) {
    if(typeof weatherData == 'object'){
        Highcharts.chart('chart', {
            chart: {
                zoomType: 'x'
            },

            title: {
                text: 'Hourly Weather',
                align: 'left'
            },
            subtitle: {
                text: document.ontouchstart === undefined ?
                    'Click and drag in the plot area to zoom in' : 'Pinch the chart to zoom in',
                align: 'left'
            },
            xAxis: {
                type: 'DateTime',
                labels: {
                    style:{
                        color : '#ccc',
                        fontSize :'0.6em'
                    },
                    enabled: true,
                    formatter: function() { return weatherData[this.value][0];}
                }
            },
            yAxis: {
                title: {
                    text: 'Temperature'
                },
                labels: {
                    style:{
                        color : '#ccc',
                        fontSize :'0.7em'
                    }
                }
            },
            rangeSelector: {
                enabled: true
            },
            legend: {
                enabled: false
            },
            plotOptions: {
                area: {
                    fillColor: {
                        linearGradient: {
                            x1: 0,
                            y1: 0,
                            x2: 0,
                            y2: 1
                        },
                        stops: [
                            [0, Highcharts.getOptions().colors[0]],
                            [1, Highcharts.color(Highcharts.getOptions().colors[0]).setOpacity(0).get('rgba')]
                        ]
                    },

                    lineWidth: 1,
                    states: {
                        hover: {
                            lineWidth: 1
                        }
                    }
                }
            },

            series: [{
                type: 'area',
                name: 'Hourly Weather',
                data: weatherData
            }]
        });
    }else{
        document.getElementById('chart').innerHTML = '<div class="text-base font-semibold text-rose-500 text-center my-3">Create hourly chart is failed. please try again!</div>';
    }
}
